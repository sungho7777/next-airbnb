{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/SUNGHO/DEV/Next Class/next-airbnb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/SUNGHO/DEV/Next Class/next-airbnb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\SUNGHO\\\\DEV\\\\Next Class\\\\next-airbnb\\\\components\\\\room\\\\register\\\\RegisterRoomGeometry.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport throttle from \"lodash/throttle\";\nimport { useSelector } from \"../../../store\";\nimport { registerRoomActions } from \"../../../store/registerRoom\";\nimport RegisterRoomFooter from \"./RegisterRoomFooter\";\nimport styled from \"styled-components\";\nimport palette from \"../../../styles/palette\";\nvar Container = styled.div.withConfig({\n  displayName: \"RegisterRoomGeometry__Container\",\n  componentId: \"sc-1v67ia5-0\"\n})([\"padding:62px 30px 100px;h2{font-size:19px;font-weight:800;margin-bottom:56px;}h3{font-weight:bold;color:\", \";margin-bottom:6px;}.register-room-geometry-map-wrapper{width:487px;height:280px;margin-top:24px;> div{width:100%;height:100%;}}.gmanoprint .gm-style-mtc{display:none;}.gm-svpc{display:none;}.gm-fullscreen-control{display:none;}\"], palette.gray_76); //* 구글 지도 script 불러오기\n\n_c = Container;\n\nvar loadMapScript = function loadMapScript() {\n  return new Promise(function (resolve) {\n    var script = document.createElement(\"script\");\n    script.src = \"https://maps.googleapis.com/maps/api/js?key=\".concat(process.env.NEXT_PUBLIC_GOOGLE_MAP_API_KEY, \"&callback=initMap\");\n    script.defer = true;\n    document.head.appendChild(script);\n\n    script.onload = function () {\n      resolve();\n    };\n  });\n};\n\nvar RegisterRoomGeomtry = function RegisterRoomGeomtry() {\n  _s();\n\n  var mapRef = useRef(null);\n  var latitude = useSelector(function (state) {\n    return state.registerRoom.latitude;\n  });\n  var longitude = useSelector(function (state) {\n    return state.registerRoom.longitude;\n  });\n\n  var loadMap = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return loadMapScript();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function loadMap() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  window.initMap = function () {\n    // * 지도 불러오기\n    if (mapRef.current) {\n      var map = new window.google.maps.Map(mapRef.current, {\n        center: {\n          lat: latitude || 37.5666784,\n          lng: longitude || 126.9778436\n        },\n        zoom: 14\n      });\n      var marker = new window.google.maps.Marker({\n        position: {\n          lat: latitude || 37.5666784,\n          lng: longitude || 126.9778436\n        },\n        map: map\n      });\n      map.addListener(\"center_changed\", throttle(function () {\n        var centerLat = map.getCenter().lat();\n        var centerLan = map.getCenter().lng();\n        marker.setPosition({\n          lat: centerLat,\n          lng: centerLng\n        });\n        dispatch(registerRoomActions.setLatitude(centerLat));\n        dispatch(registerRoomActions.setLongitude(centerLng));\n      }, 150));\n    }\n  };\n\n  useEffect(function () {\n    loadMap();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD540\\uC774 \\uB193\\uC778 \\uC704\\uCE58\\uAC00 \\uC815\\uD655\\uD55C\\uAC00\\uC694?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"4\\uB2E8\\uACC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD544\\uC694\\uD55C \\uACBD\\uC6B0 \\uD540\\uC774 \\uC815\\uD655\\uD55C \\uC704\\uCE58\\uC5D0 \\uC790\\uB9AC\\uD558\\uB3C4\\uB85D \\uC870\\uC815\\uD560 \\uC218 \\uC788\\uC5B4\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-room-geometry-map-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mapRef,\n          id: \"map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(RegisterRoomFooter, {\n        prevHref: \"/room/register/location\",\n        nextHref: \"/room/register/amentities\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false);\n};\n\n_s(RegisterRoomGeomtry, \"6VhcE3uXzqHao0r0uedqhAMy6TU=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c2 = RegisterRoomGeomtry;\nexport default RegisterRoomGeomtry;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"RegisterRoomGeomtry\");","map":{"version":3,"sources":["D:/SUNGHO/DEV/Next Class/next-airbnb/components/room/register/RegisterRoomGeometry.tsx"],"names":["React","useEffect","useRef","throttle","useSelector","registerRoomActions","RegisterRoomFooter","styled","palette","Container","div","gray_76","loadMapScript","Promise","resolve","script","document","createElement","src","process","env","NEXT_PUBLIC_GOOGLE_MAP_API_KEY","defer","head","appendChild","onload","RegisterRoomGeomtry","mapRef","latitude","state","registerRoom","longitude","loadMap","window","initMap","current","map","google","maps","Map","center","lat","lng","zoom","marker","Marker","position","addListener","centerLat","getCenter","centerLan","setPosition","centerLng","dispatch","setLatitude","setLongitude"],"mappings":"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","sourcesContent":["\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport throttle from \"lodash/throttle\";\r\nimport { useSelector } from \"../../../store\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { registerRoomActions } from \"../../../store/registerRoom\";\r\nimport RegisterRoomFooter from \"./RegisterRoomFooter\";\r\n\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../../styles/palette\";\r\nimport { fileURLToPath } from \"node:url\";\r\n\r\nconst Container=styled.div`\r\n    padding:62px 30px 100px;\r\n    h2{\r\n        font-size:19px;\r\n        font-weight:800;\r\n        margin-bottom:56px;\r\n    }\r\n    h3{\r\n        font-weight:bold;\r\n        color:${palette.gray_76};\r\n        margin-bottom:6px;\r\n    }\r\n    .register-room-geometry-map-wrapper{\r\n        width:487px;\r\n        height:280px;\r\n        margin-top:24px;\r\n        > div {\r\n            width:100%;\r\n            height:100%;\r\n        }\r\n    }\r\n    .gmanoprint .gm-style-mtc{\r\n        display:none;\r\n    }\r\n    .gm-svpc{\r\n        display:none;\r\n    }\r\n    .gm-fullscreen-control{\r\n        display:none;\r\n    }\r\n`;\r\n//* 구글 지도 script 불러오기\r\nconst loadMapScript = () => {\r\n    return new Promise<void>((resolve) => {\r\n      const script = document.createElement(\"script\");\r\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.NEXT_PUBLIC_GOOGLE_MAP_API_KEY}&callback=initMap`;\r\n      script.defer = true;\r\n      document.head.appendChild(script);\r\n      script.onload = () => {\r\n        resolve();\r\n      };\r\n    });\r\n  };\r\n\r\ndeclare global{\r\n    interface Window{\r\n        initMap:()=>void;\r\n    }\r\n}\r\n\r\n\r\n\r\nconst RegisterRoomGeomtry:React.FC=()=>{\r\n    const mapRef = useRef<HTMLDivElement>(null);\r\n    const latitude = useSelector((state) => state.registerRoom.latitude);\r\n    const longitude = useSelector((state) => state.registerRoom.longitude);\r\n\r\n    const loadMap=async()=>{\r\n        await loadMapScript();\r\n    };\r\n\r\n    window.initMap=()=>{\r\n        // * 지도 불러오기\r\n        if (mapRef.current) {\r\n            const map=new window.google.maps.Map(mapRef.current, {\r\n                center:{\r\n                    lat: latitude || 37.5666784,\r\n                    lng: longitude || 126.9778436,\r\n                },\r\n                zoom:14,\r\n            });\r\n            const marker=new window.google.maps.Marker({\r\n                position:{\r\n                    lat: latitude || 37.5666784,\r\n                    lng: longitude || 126.9778436,\r\n                },\r\n                map,\r\n            });\r\n            map.addListener(\r\n                \"center_changed\", \r\n                throttle(()=>{\r\n                    const centerLat=map.getCenter().lat();\r\n                    const centerLan=map.getCenter().lng();\r\n                    marker.setPosition({ lat: centerLat, lng: centerLng });\r\n                    dispatch(registerRoomActions.setLatitude(centerLat));\r\n                    dispatch(registerRoomActions.setLongitude(centerLng));\r\n                }, 150)\r\n            );\r\n        }\r\n    };\r\n        \r\n    useEffect(() => {\r\n        loadMap();\r\n    }, []);\r\n    \r\n    return (\r\n        <>\r\n            <Container>\r\n                <h2>핀이 놓인 위치가 정확한가요?</h2>\r\n                <h3>4단계</h3>\r\n                <p>필요한 경우 핀이 정확한 위치에 자리하도록 조정할 수 있어요.</p>\r\n                <div className=\"register-room-geometry-map-wrapper\">\r\n                    <div ref={mapRef} id=\"map\" />\r\n                </div>\r\n                <RegisterRoomFooter\r\n                    prevHref=\"/room/register/location\"\r\n                    nextHref=\"/room/register/amentities\"\r\n                    \r\n                />\r\n            </Container>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default RegisterRoomGeomtry;"]},"metadata":{},"sourceType":"module"}