{"ast":null,"code":"import { readFileSync, writeFileSync } from \"fs\";\n\n// 유저 리스트 데이터 불러오기\nconst getList = () => {\n  const usersBuffer = readFileSync(\"data/users.json\");\n  const usersString = usersBuffer.toString();\n\n  if (!usersString) {\n    return [];\n  }\n\n  const users = JSON.parse(usersString);\n  return users;\n};\n\nconst exist = ({\n  email\n}) => {\n  const users = getList();\n  return users.some(user => user.email === email);\n};\n\nconst write = async users => {\n  writeFileSync(\"data/users.json\", JSON.stringify(users));\n}; // email 또는 id의 유저 불러오기\n\n\nconst find = ({\n  email,\n  id\n}) => {\n  const users = getList();\n  return users.find(user => user.email === email || user.id === id);\n};\n\nexport default {\n  getList,\n  exist,\n  write,\n  find\n};","map":{"version":3,"sources":["D:/SUNGHO/DEV/Next Class/next-airbnb/lib/data/user.ts"],"names":["readFileSync","writeFileSync","getList","usersBuffer","usersString","toString","users","JSON","parse","exist","email","some","user","write","stringify","find","id"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,IAA5C;;AAGA;AACA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMC,WAAW,GAAGH,YAAY,CAAC,iBAAD,CAAhC;AACA,QAAMI,WAAW,GAAGD,WAAW,CAACE,QAAZ,EAApB;;AACA,MAAI,CAACD,WAAL,EAAkB;AAChB,WAAO,EAAP;AACD;;AACD,QAAME,KAAuB,GAAGC,IAAI,CAACC,KAAL,CAAWJ,WAAX,CAAhC;AACA,SAAOE,KAAP;AACD,CARD;;AAUA,MAAMG,KAAK,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAA6B;AACzC,QAAMJ,KAAK,GAAGJ,OAAO,EAArB;AACA,SAAOI,KAAK,CAACK,IAAN,CAAYC,IAAD,IAAUA,IAAI,CAACF,KAAL,KAAeA,KAApC,CAAP;AACD,CAHD;;AAKA,MAAMG,KAAK,GAAG,MAAOP,KAAP,IAAmC;AAC/CL,EAAAA,aAAa,CAAC,iBAAD,EAAoBM,IAAI,CAACO,SAAL,CAAeR,KAAf,CAApB,CAAb;AACD,CAFD,C,CAIA;;;AACA,MAAMS,IAAI,GAAG,CAAC;AAACL,EAAAA,KAAD;AAAQM,EAAAA;AAAR,CAAD,KAAgD;AAC3D,QAAMV,KAAK,GAAGJ,OAAO,EAArB;AACA,SAAOI,KAAK,CAACS,IAAN,CAAYH,IAAD,IAAUA,IAAI,CAACF,KAAL,KAAeA,KAAf,IAAwBE,IAAI,CAACI,EAAL,KAAYA,EAAzD,CAAP;AACD,CAHD;;AAKA,eAAe;AAACd,EAAAA,OAAD;AAAUO,EAAAA,KAAV;AAAiBI,EAAAA,KAAjB;AAAwBE,EAAAA;AAAxB,CAAf","sourcesContent":["import { readFileSync, writeFileSync } from \"fs\"\r\nimport { StoredUserType } from \"../../types/user\"\r\n\r\n// 유저 리스트 데이터 불러오기\r\nconst getList = () => {\r\n  const usersBuffer = readFileSync(\"data/users.json\");\r\n  const usersString = usersBuffer.toString();\r\n  if (!usersString) {\r\n    return [];\r\n  }\r\n  const users: StoredUserType[] = JSON.parse(usersString);\r\n  return users;\r\n}\r\n\r\nconst exist = ({email}: {email:string}) => {\r\n  const users = getList();\r\n  return users.some((user) => user.email === email);\r\n};\r\n\r\nconst write = async (users: StoredUserType[]) => {\r\n  writeFileSync(\"data/users.json\", JSON.stringify(users));\r\n};\r\n\r\n// email 또는 id의 유저 불러오기\r\nconst find = ({email, id}: {email?: string; id?: number}) => {\r\n  const users = getList();\r\n  return users.find((user) => user.email === email || user.id === id);\r\n}\r\n\r\nexport default {getList, exist, write, find};"]},"metadata":{},"sourceType":"module"}