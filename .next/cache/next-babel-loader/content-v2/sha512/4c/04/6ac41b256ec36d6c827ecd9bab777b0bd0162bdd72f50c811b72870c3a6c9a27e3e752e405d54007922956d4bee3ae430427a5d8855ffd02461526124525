{"ast":null,"code":"import _toConsumableArray from \"D:/SUNGHO/DEV/Next Class/next-airbnb/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\SUNGHO\\\\DEV\\\\Next Class\\\\next-airbnb\\\\components\\\\room\\\\register\\\\RegisterRoomBedTypes.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useMemo, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { bedTypes } from \"../../../lib/staticData\";\nimport { useSelector } from \"../../../store\";\nimport { registerRoomActions } from \"../../../store/registerRoom\";\nimport palette from \"../../../styles/palette\";\nimport Button from \"../../common/Button\";\nimport Selector from \"../../common/Selector\";\nvar Container = styled.li.withConfig({\n  displayName: \"RegisterRoomBedTypes__Container\",\n  componentId: \"e0v542-0\"\n})([\"width:100%;padding:28px 0;border-top:1px solid \", \";&:last-child{border-bottom:1px solid \", \";}.register-room-bed-type-top{display:flex;justify-content:space-between;}.register-room-bed-type-bedroom{font-size:19px;color:\", \";}.register-room-public-bed-type-counters{width:320px;margin-top:28px;}.register-room-bed-type-selector-wrapper{margin-top:28px;width:320px;}.register-room-bed-type-counters{font-size:19px;color:\", \";}.register-room-bed-type-counter{width:290px;margin-bottom:18px;}\"], palette.gray_dd, palette.gray_dd, palette.gray_48, palette.gray_76);\n_c = Container;\n\nvar RegisterRoomBedTypes = function RegisterRoomBedTypes(_ref) {\n  _s();\n\n  var bedroom = _ref.bedroom;\n\n  var _useState = useState(false),\n      opened = _useState[0],\n      setOpened = _useState[1];\n\n  var publicBedList = useSelector(function (state) {\n    return state.registerRoom.publicBedList;\n  });\n  var dispatch = useDispatch(); // * 침대 개수 총합\n\n  var totalBedsCount = useMemo(function () {\n    var total = 0;\n    bedroom.beds.forEach(function (bed) {\n      total += bed.count;\n    });\n    return total;\n  }, [bedroom]); // * 침대 종류 텍스트\n\n  var bedsText = useMemo(function () {\n    var texts = bedroom.beds.map(function (bed) {\n      return \"\".concat(bed.type, \" \").concat(bed.count, \" \\uAC1C\");\n    });\n    return texts.join(\",\");\n  }, []);\n  var initialBedOptions = bedroom.beds.map(function (bed) {\n    return bed.type;\n  }); // * 선택된 침대 옵션들\n\n  var _useState2 = useState(initialBedOptions),\n      activedBedOptions = _useState2[0],\n      setActivedBedOptions = _useState2[1]; // * 남은 침대 옵션들\n\n\n  var lastBedOptions = useMemo(function () {\n    return bedTypes.filter(function (bedType) {\n      return !activedBedOptions.includes(bedType);\n    });\n  }, [activedBedOptions, bedroom]); // * 침실 침대 개수 변경 시\n\n  var onChangeBedTypeCount = function onChangeBedTypeCount(value, type) {\n    return dispatch(registerRoomActions.setBedTypeCount({\n      bedroomId: bedroom.id,\n      type: type,\n      count: value\n    }));\n  }; // * 침실 유형 열고 닫기\n\n\n  var toggleOpend = function toggleOpend() {\n    return setOpened(!opened);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-room-bed-type-top\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"register-room-bed-type-bedroom\",\n          children: \"\\uACF5\\uC6A9\\uACF5\\uAC04\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"register-room-bed-type-bedroom-counts\",\n          children: [\"\\uCE68\\uB300 \", totalBedsCount, \"\\uAC1C \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 46\n          }, _this), bedsText]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: function onClick() {\n          return setOpened(!opened);\n        },\n        styleType: \"register\",\n        color: \"white\",\n        children: [opened && \"완료\", !opened && (totalBedsCount === 0 ? \"침대 추가하기\" : \"침대 수정하기\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, _this), opened && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-room-bed-type-counters\",\n      children: activedBedOptions.map(function (type) {\n        var _publicBedList$find;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"register-room-bed-type-counter\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            label: type,\n            value: ((_publicBedList$find = publicBedList.find(function (bed) {\n              return bed.type === type;\n            })) === null || _publicBedList$find === void 0 ? void 0 : _publicBedList$find.count) || 0,\n            onChange: function onChange(value) {//onChangeBedTypeCount(value, type);\n            }\n          }, type, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, _this)\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }, _this), opened && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"register-room-bed-type-selector-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Selector, {\n        type: \"register\",\n        options: lastBedOptions,\n        defaultValue: \"\\uB2E4\\uB978 \\uCE68\\uB300 \\uCD94\\uAC00\",\n        value: \"\\uB2E4\\uB978 \\uCE68\\uB300 \\uCD94\\uAC00\",\n        disabledOptions: [\"다른 침대 추가\"],\n        useValidation: false,\n        onChange: function onChange(e) {\n          return setActivedBedOptions([].concat(_toConsumableArray(activedBedOptions), [e.target.value]));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(RegisterRoomBedTypes, \"VEJaBVcTvJQwCpZgolBOHoLr1UM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c2 = RegisterRoomBedTypes;\nexport default RegisterRoomBedTypes;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"RegisterRoomBedTypes\");","map":{"version":3,"sources":["D:/SUNGHO/DEV/Next Class/next-airbnb/components/room/register/RegisterRoomBedTypes.tsx"],"names":["React","useMemo","useState","useDispatch","styled","bedTypes","useSelector","registerRoomActions","palette","Button","Selector","Container","li","gray_dd","gray_48","gray_76","RegisterRoomBedTypes","bedroom","opened","setOpened","publicBedList","state","registerRoom","dispatch","totalBedsCount","total","beds","forEach","bed","count","bedsText","texts","map","type","join","initialBedOptions","activedBedOptions","setActivedBedOptions","lastBedOptions","filter","bedType","includes","onChangeBedTypeCount","value","setBedTypeCount","bedroomId","id","toggleOpend","find","e","target"],"mappings":"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","sourcesContent":["import React, {useMemo, useState} from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { bedTypes } from \"../../../lib/staticData\";\r\nimport {useSelector} from \"../../../store\";\r\nimport { registerRoomActions } from \"../../../store/registerRoom\";\r\nimport palette from \"../../../styles/palette\";\r\nimport {BedType} from \"../../../types/room\";\r\nimport Button from \"../../common/Button\";\r\nimport Counter from \"../../common/Counter\";\r\nimport Selector from \"../../common/Selector\";\r\n\r\nconst Container = styled.li`\r\n  width: 100%;\r\n  padding: 28px 0;\r\n  border-top: 1px solid ${palette.gray_dd};\r\n  &:last-child {\r\n    border-bottom: 1px solid ${palette.gray_dd};\r\n  }\r\n  .register-room-bed-type-top {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  .register-room-bed-type-bedroom {\r\n    font-size: 19px;\r\n    color: ${palette.gray_48};\r\n  }\r\n  .register-room-public-bed-type-counters {\r\n    width: 320px;\r\n    margin-top: 28px;\r\n  }\r\n  .register-room-bed-type-selector-wrapper {\r\n    margin-top: 28px;\r\n    width: 320px;\r\n  }\r\n  .register-room-bed-type-counters {\r\n    font-size: 19px;\r\n    color: ${palette.gray_76};\r\n  }\r\n  .register-room-bed-type-counter {\r\n    width: 290px;\r\n    margin-bottom: 18px;\r\n  }\r\n`;\r\n\r\ninterface IProps{\r\n    bedroom:{id:number; beds:{type:BedType; count:number}[]};\r\n}\r\n\r\nconst RegisterRoomBedTypes: React.FC<IProps> = ({bedroom})=>{\r\n    const [opened, setOpened] = useState(false);\r\n    const publicBedList = useSelector((state)=>state.registerRoom.publicBedList);\r\n\r\n\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    // * 침대 개수 총합\r\n    const totalBedsCount = useMemo(()=>{\r\n        let total=0;\r\n        bedroom.beds.forEach((bed)=>{\r\n            total += bed.count;\r\n        });\r\n        return total;\r\n    }, [bedroom]);\r\n    // * 침대 종류 텍스트\r\n    const bedsText = useMemo(()=>{\r\n        const texts=bedroom.beds.map((bed) => `${bed.type} ${bed.count} 개`);\r\n        return texts.join(\",\");\r\n    }, []);\r\n\r\n    const initialBedOptions = bedroom.beds.map((bed) => bed.type);\r\n    // * 선택된 침대 옵션들\r\n    const [activedBedOptions, setActivedBedOptions] = useState<BedType[]>(\r\n        initialBedOptions\r\n    );\r\n    // * 남은 침대 옵션들\r\n    const lastBedOptions=useMemo(()=>{\r\n        return bedTypes.filter((bedType)=>!activedBedOptions.includes(bedType));\r\n    }, [activedBedOptions, bedroom]);\r\n\r\n    // * 침실 침대 개수 변경 시\r\n    const onChangeBedTypeCount = (value:Number, type:BedType) =>\r\n        dispatch(\r\n            registerRoomActions.setBedTypeCount({\r\n                bedroomId:bedroom.id,\r\n                type,\r\n                count: value,\r\n            })\r\n        );\r\n\r\n\r\n\r\n    // * 침실 유형 열고 닫기\r\n    const toggleOpend = () => setOpened(!opened);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Container>\r\n            \r\n        \r\n            <div className=\"register-room-bed-type-top\">\r\n                <div>\r\n                    <p className=\"register-room-bed-type-bedroom\">공용공간</p>\r\n                    <p className=\"register-room-bed-type-bedroom-counts\">\r\n                        침대 {totalBedsCount}개 <br />\r\n                        {bedsText}\r\n                    </p>\r\n                </div>\r\n                <Button \r\n                    onClick={()=>setOpened(!opened)}\r\n                    styleType=\"register\"\r\n                    color=\"white\"\r\n                >\r\n                    {opened && \"완료\"}\r\n                    {!opened &&\r\n                        (totalBedsCount === 0 ? \"침대 추가하기\":\"침대 수정하기\")\r\n                    }\r\n                </Button>\r\n            </div>\r\n            \r\n            {opened && (\r\n                <div className=\"register-room-bed-type-counters\">\r\n                    {activedBedOptions.map((type)=>(\r\n                        <div className=\"register-room-bed-type-counter\" key={type}>\r\n                            <Container\r\n                                label={type}\r\n                                value={\r\n                                    publicBedList.find((bed) => bed.type === type)?.count || 0\r\n                                }\r\n                                key={type}\r\n                                onChange={(value)=>{\r\n                                    //onChangeBedTypeCount(value, type);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n\r\n            {opened && (\r\n                <div className=\"register-room-bed-type-selector-wrapper\">\r\n                    <Selector\r\n                        type=\"register\"\r\n                        options={lastBedOptions}\r\n                        defaultValue=\"다른 침대 추가\"\r\n                        value=\"다른 침대 추가\"\r\n                        disabledOptions={[\"다른 침대 추가\"]}\r\n                        useValidation={false}\r\n                        onChange={(e)=>setActivedBedOptions([\r\n                            ...activedBedOptions,\r\n                            e.target.value as BedType,\r\n                        ])}\r\n                    />\r\n                </div>\r\n            )}\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default RegisterRoomBedTypes;"]},"metadata":{},"sourceType":"module"}