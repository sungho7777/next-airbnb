{"ast":null,"code":"import _defineProperty from \"D:/SUNGHO/DEV/Next Class/next-airbnb/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"D:/SUNGHO/DEV/Next Class/next-airbnb/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/SUNGHO/DEV/Next Class/next-airbnb/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"D:\\\\SUNGHO\\\\DEV\\\\Next Class\\\\next-airbnb\\\\components\\\\auth\\\\SignUpModal.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useMemo, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport palette from \"../../styles/palette\";\n\nvar Mailcon = function Mailcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M.306 0v13.5H22V0H.306zm5.987 5.947L2.114 10.23V3.137l4.179 2.81zM2.55 1.5h17.206l-8.603 5.785L2.55 1.5zm5.147 5.391 3.456 2.324 3.462-2.328L19.688 12H2.713l4.984-5.109zm8.323-.948 4.172-2.806v7.011L16.02 5.943z\",\n      fill: \"#222\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\n_c3 = Mailcon;\nMailcon.defaultProps = {\n  width: \"22\",\n  height: \"14\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar PersonIcon = function PersonIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M8 1.333a3.337 3.337 0 0 1 3.333 3.334A3.338 3.338 0 0 1 8 8.001a3.338 3.338 0 0 1-3.333-3.334A3.337 3.337 0 0 1 8 1.333zM8 0a4.667 4.667 0 1 0 0 9.334A4.667 4.667 0 0 0 8 0zm4.246 8.902c-.331.332-.705.62-1.105.868 1.914 1.25 2.918 3.389 3.314 4.897H1.531C1.912 13.141 2.903 11 4.846 9.762a6.005 6.005 0 0 1-1.105-.875C.902 10.935 0 14.558 0 16h16c0-1.428-.96-5.038-3.754-7.098z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\n_c4 = PersonIcon;\nPersonIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar OpenedEyeIcon = function OpenedEyeIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M15.941 4.81c-.126-.183-3.154-4.477-7.94-4.477C3.892.333.232 4.603.078 4.785a.335.335 0 0 0 0 .43C.233 5.397 3.893 9.667 8 9.667c4.108 0 7.768-4.27 7.922-4.452a.333.333 0 0 0 .019-.404zM8.001 9C4.707 9 1.576 5.86.78 5c.794-.86 3.922-4 7.22-4 3.852 0 6.571 3.135 7.235 3.982C14.47 5.815 11.321 9 8 9z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M8 2.333A2.67 2.67 0 0 0 5.333 5 2.67 2.67 0 0 0 8 7.667 2.67 2.67 0 0 0 10.667 5 2.67 2.67 0 0 0 8 2.333zM8 7c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)]\n  }), void 0, true, void 0, this);\n};\n\n_c5 = OpenedEyeIcon;\nOpenedEyeIcon.defaultProps = {\n  width: \"16\",\n  height: \"10\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar CloseEyeIcon = function CloseEyeIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M15.84 8.311a.449.449 0 0 1-.636-.054l-1.181-1.404A8.062 8.062 0 0 1 12.05 8.17l.674 1.634a.45.45 0 1 1-.834.344l-.674-1.634a9.843 9.843 0 0 1-2.893.527v1.745a.45.45 0 0 1-.902 0V9.041a9.945 9.945 0 0 1-2.669-.454l-.644 1.56a.451.451 0 1 1-.834-.343l.634-1.536a8.081 8.081 0 0 1-2.04-1.286L.797 8.257a.45.45 0 1 1-.69-.58L1.22 6.352C.413 5.475.07 4.704.037 4.629a.45.45 0 1 1 .828-.356c.03.07.382.845 1.223 1.683.012.008.024.015.035.024.03.025.054.054.076.084A7.241 7.241 0 0 0 4.63 7.587c.014.005.029.007.043.013l.016.009c.875.326 1.926.54 3.184.54 5.282 0 6.991-3.837 7.008-3.876a.45.45 0 1 1 .829.356c-.03.07-.34.762-1.053 1.578l1.237 1.469a.45.45 0 0 1-.055.635z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\n_c6 = CloseEyeIcon;\nCloseEyeIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nimport { daysList, monthsList, yearsList } from \"../../lib/staticData\";\nimport Selector from \"../common/Selector\";\nimport Input from \"../common/Input\";\nimport Button from \"../common/Button\";\nimport { signupAPI } from '../../lib/api/auth';\nimport { useDispatch } from \"react-redux\";\nimport { userActions } from \"../../store/user\";\nimport useValidateMode from \"../../hooks/useValidateMode\";\nimport PasswordWarning from './PasswordWarning';\nimport { authActions } from '../../store/auth';\nvar Container = styled.form.withConfig({\n  displayName: \"SignUpModal__Container\",\n  componentId: \"sc-102epsj-0\"\n})([\".modal-close-x-icon{cursor:pointer;display:block;margin:0 0 40px auto;}.input-wrapper{position:relative;margin-bottom:16px;}.sign-up-password-input-wrapper{svg{cursor:pointer;}}.sign-up-birthdat-label{font-size:16px;font-weight:600;margin-top:16px;margin-bottom:8px;}.sign-up-modal-birthday-info{margin-bottom:16px;color:\", \"}.sign-up-modal-birthday-selectors{display:flex;margin-bottom:24px;.sign-up-modal-birthday-month-selector{margin-right:16px;flex-grow:1;}.sign-up-modal-birthday-day-selector{margin-right:16px;width:25%;}.sign-up-modal-birthday-year-selector{width:33.3333%;}}.sign-up-modal-submit-button-wrapper{margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid \", \"}.sign-up-modal-set-login{color:\", \";margin-left:8px;cursor:pointer;}\"], palette.charcoal, palette.gray_eb, palette.dark_cyan);\n_c = Container;\nvar PASSWORD_MIN_LENNGTH = 8;\n// 선택할 수 없는 월 option\nvar disabledMonths = [\"월\"]; // 선택할 수 없는 일 option\n\nvar disabledDays = [\"일\"]; // 선택할 수 없는 년 option\n\nvar disabledYears = [\"년\"];\n\nvar SignUpModal = function SignUpModal(_ref) {\n  _s();\n\n  var closeModal = _ref.closeModal;\n\n  var _useState = useState(\"\"),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      lastname = _useState2[0],\n      setLastname = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      firstname = _useState3[0],\n      setFirstname = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(true),\n      hidePassword = _useState5[0],\n      setHidePassword = _useState5[1];\n\n  var _useState6 = useState(false),\n      passwordFocused = _useState6[0],\n      setPasswordFocused = _useState6[1];\n\n  var _useState7 = useState(),\n      birthYear = _useState7[0],\n      setBirthYear = _useState7[1];\n\n  var _useState8 = useState(),\n      birthDay = _useState8[0],\n      setBirthDay = _useState8[1];\n\n  var _useState9 = useState(),\n      birthMonth = _useState9[0],\n      setBirthMonth = _useState9[1];\n\n  var _useValidateMode = useValidateMode(),\n      setValidateMode = _useValidateMode.setValidateMode;\n\n  var dispatch = useDispatch(); // 로그인 모달로 변경하기\n\n  var changeToLoginModal = function changeToLoginModal() {\n    dispatch(authActions.setAuthMode(\"login\"));\n  }; // 이메일 주소 변경 시\n\n\n  var onChangeEmail = function onChangeEmail(event) {\n    setEmail(event.target.value);\n  }; // 이름 변경 시\n\n\n  var onChangeLastname = function onChangeLastname(event) {\n    setLastname(event.target.value);\n  }; // 성 변경 시\n\n\n  var onChangeFirstname = function onChangeFirstname(event) {\n    setFirstname(event.target.value);\n  }; // 비밀번호 변경 시\n\n\n  var onChangePassword = function onChangePassword(event) {\n    setPassword(event.target.value);\n  }; // 비밀번호 숨김 토글하기\n\n\n  var toggleHidePassword = function toggleHidePassword() {\n    setHidePassword(!hidePassword);\n  }; // 비밀번호 인풋 포커스 되었을 때\n\n\n  var onFocusPassword = function onFocusPassword() {\n    setPasswordFocused(true);\n  }; // password가 이름이나 이메일을 포함하는지\n\n\n  var isPasswordHasNameOrEmail = useMemo(function () {\n    return !password || !lastname || password.includes(lastname) || password.includes(email.split(\"@\")[0]);\n  }, [password, lastname, email]); // 비밀번호가 최소 자릿수 이상인지\n\n  var isPasswordOverMinLength = useMemo(function () {\n    return !!password && password.length >= PASSWORD_MIN_LENNGTH;\n  }, [password]); // 비밀번호가 숫자나 특수기호를 포함하는지\n\n  var isPasswordHasNumberOrSymbol = useMemo(function () {\n    return !(/[{}[\\]/?.,;:|)*~`!^\\-_+<>@#$%&\\\\=('\"]/g.test(password) || /[0-9]/g.test(password));\n  }, [password]); // 생년월일 월 변경 시\n\n  var onChangeBirthMonth = function onChangeBirthMonth(event) {\n    setBirthMonth(event.target.value);\n  }; // 생년월일 일 변경 시\n\n\n  var onChangeBirthDay = function onChangeBirthDay(event) {\n    setBirthDay(event.target.value);\n  }; // 생년월일 년 변경 시\n\n\n  var onChangeBirthYear = function onChangeBirthYear(event) {\n    setBirthYear(event.target.value);\n  }; // 회원가입 폼 입력 값 확인하기\n\n\n  var validateSignUpForm = function validateSignUpForm() {\n    // 인풋 값이 없다면\n    if (!email || !lastname || !firstname || !password) {\n      return false;\n    } // 비밀번호가 올바르지 않다면\n\n\n    if (isPasswordHasNameOrEmail || !isPasswordOverMinLength || isPasswordHasNumberOrSymbol) {\n      return false;\n    } // 생년월일 셀렉터 값이 없다면\n\n\n    if (!birthDay || !birthMonth || !birthYear) {\n      return false;\n    }\n\n    return true;\n  }; // 회원가입 폼 제출하기\n\n\n  var onSubmitSignUp = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var signUpBody, _yield$signupAPI, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              setValidateMode(true); // dispatch(commonActions.setValidateMode(true));\n\n              if (!validateSignUpForm()) {\n                _context.next = 17;\n                break;\n              }\n\n              _context.prev = 3;\n              signUpBody = {\n                email: email,\n                lastname: lastname,\n                firstname: firstname,\n                password: password,\n                birthday: new Date(\"\".concat(birthYear, \"-\").concat(birthMonth.replace(\"월\", \"\"), \"-\").concat(birthDay)).toISOString()\n              };\n              _context.next = 7;\n              return signupAPI(signUpBody);\n\n            case 7:\n              _yield$signupAPI = _context.sent;\n              data = _yield$signupAPI.data;\n              dispatch(userActions.setLoggedUser(data));\n              closeModal();\n              console.log(data);\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](3);\n              console.log(_context.t0);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 14]]);\n    }));\n\n    return function onSubmitSignUp(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    return function () {\n      setValidateMode(false);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    onSubmit: onSubmitSignUp,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\",\n        icon: /*#__PURE__*/_jsxDEV(Mailcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 17\n        }, _this),\n        value: email,\n        useValidation: true,\n        isValid: !!email,\n        onChange: onChangeEmail,\n        errorMessage: \"\\uC774\\uBA54\\uC77C\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        name: \"lastname\",\n        placeholder: \"\\uC774\\uB984(\\uC608: \\uAE38\\uB3D9)\",\n        icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 17\n        }, _this),\n        value: lastname,\n        useValidation: true,\n        isValid: !!lastname,\n        onChange: onChangeLastname,\n        errorMessage: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        name: \"firstname\",\n        placeholder: \"\\uC131(\\uC608: \\uD64D)\",\n        icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }, _this),\n        useValidation: true,\n        value: firstname,\n        isValid: !!firstname,\n        onChange: onChangeFirstname,\n        errorMessage: \"\\uC131\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper sign-up-password-input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC124\\uC815\\uD558\\uAE30\",\n        type: hidePassword ? \"password\" : \"text\",\n        icon: hidePassword ? /*#__PURE__*/_jsxDEV(CloseEyeIcon, {\n          onClick: toggleHidePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 15\n        }, _this) : /*#__PURE__*/_jsxDEV(OpenedEyeIcon, {\n          onClick: toggleHidePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }, _this),\n        value: password,\n        onChange: onChangePassword,\n        useValidation: true,\n        isValid: !isPasswordHasNameOrEmail && isPasswordOverMinLength && !isPasswordHasNumberOrSymbol,\n        errorMessage: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        onFocus: onFocusPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, _this), passwordFocused && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PasswordWarning, {\n        isValid: isPasswordHasNameOrEmail,\n        text: \"\\uBE44\\uBC00\\uBC88\\uD638\\uC5D0 \\uBCF8\\uC778 \\uC774\\uB984\\uC774\\uB098 \\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uD3EC\\uD568\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(PasswordWarning, {\n        isValid: !isPasswordOverMinLength,\n        text: \"\\uCD5C\\uC18C 8\\uC790\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(PasswordWarning, {\n        isValid: isPasswordHasNumberOrSymbol,\n        text: \"\\uC22B\\uC790\\uB098 \\uAE30\\uD638\\uB97C \\uD3EC\\uD568\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sign-up-birthdat-label\",\n      children: \"\\uC0DD\\uC77C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sign-up-modal-birthday-info\",\n      children: \"\\uB9CC 18\\uC138 \\uC774\\uC0C1\\uC758 \\uC131\\uC778\\uB9CC \\uD68C\\uC6D0\\uC73C\\uB85C \\uAC00\\uC785\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC0DD\\uC77C\\uC740 \\uB2E4\\uB978 \\uC5D0\\uC5B4\\uBE44\\uC5D4\\uBE44 \\uC774\\uC6A9\\uC790\\uC5D0\\uAC8C \\uACF5\\uAC1C\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-modal-birthday-selectors\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-modal-birthday-month-selector\",\n        children: /*#__PURE__*/_jsxDEV(Selector, {\n          options: monthsList,\n          disabledOptions: disabledMonths,\n          defaultValue: \"\\uC6D4\",\n          value: birthMonth,\n          onChange: onChangeBirthMonth,\n          isValid: !!birthMonth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-modal-birthday-day-selector\",\n        children: /*#__PURE__*/_jsxDEV(Selector, {\n          options: daysList,\n          disabledOptions: disabledDays,\n          defaultValue: \"\\uC77C\",\n          onChange: onChangeBirthDay,\n          isValid: !!birthDay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-modal-birthday-year-selector\",\n        children: /*#__PURE__*/_jsxDEV(Selector, {\n          options: yearsList,\n          disabledOptions: disabledYears,\n          defaultValue: \"\\uB144\",\n          onChange: onChangeBirthYear,\n          isValid: !!birthYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-modal-submit-button-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"\\uAC00\\uC785\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uC774\\uBBF8 \\uC5D0\\uC5B4\\uBE44\\uC564\\uBE44 \\uACC4\\uC815\\uC774 \\uC788\\uB098\\uC694?\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sign-up-modal-set-login\",\n        role: \"presentation\",\n        onClick: changeToLoginModal,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(SignUpModal, \"vALOTLqoBnI2et4FCU289dXppy4=\", false, function () {\n  return [useValidateMode, useDispatch];\n});\n\n_c2 = SignUpModal;\nexport default SignUpModal;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SignUpModal\");\n$RefreshReg$(_c3, \"Mailcon\");\n$RefreshReg$(_c4, \"PersonIcon\");\n$RefreshReg$(_c5, \"OpenedEyeIcon\");\n$RefreshReg$(_c6, \"CloseEyeIcon\");","map":{"version":3,"sources":["D:/SUNGHO/DEV/Next Class/next-airbnb/components/auth/SignUpModal.tsx"],"names":["React","useMemo","useState","useEffect","styled","palette","Mailcon","PersonIcon","OpenedEyeIcon","CloseEyeIcon","daysList","monthsList","yearsList","Selector","Input","Button","signupAPI","useDispatch","userActions","useValidateMode","PasswordWarning","authActions","Container","form","charcoal","gray_eb","dark_cyan","PASSWORD_MIN_LENNGTH","disabledMonths","disabledDays","disabledYears","SignUpModal","closeModal","email","setEmail","lastname","setLastname","firstname","setFirstname","password","setPassword","hidePassword","setHidePassword","passwordFocused","setPasswordFocused","birthYear","setBirthYear","birthDay","setBirthDay","birthMonth","setBirthMonth","setValidateMode","dispatch","changeToLoginModal","setAuthMode","onChangeEmail","event","target","value","onChangeLastname","onChangeFirstname","onChangePassword","toggleHidePassword","onFocusPassword","isPasswordHasNameOrEmail","includes","split","isPasswordOverMinLength","length","isPasswordHasNumberOrSymbol","test","onChangeBirthMonth","onChangeBirthDay","onChangeBirthYear","validateSignUpForm","onSubmitSignUp","preventDefault","signUpBody","birthday","Date","replace","toISOString","data","setLoggedUser","console","log"],"mappings":"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","sourcesContent":["import React, { useMemo, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport palette from \"../../styles/palette\"\r\nimport Mailcon from \"../../public/static/svg/auth/mail.svg\"\r\nimport PersonIcon from \"../../public/static/svg/auth/person.svg\"\r\nimport OpenedEyeIcon from \"../../public/static/svg/auth/opened-eye.svg\"\r\nimport CloseEyeIcon from \"../../public/static/svg/auth/closed_eye.svg\"\r\nimport {daysList, monthsList, yearsList} from \"../../lib/staticData\"\r\nimport Selector from \"../common/Selector\"\r\nimport Input from \"../common/Input\";\r\nimport Button from \"../common/Button\"\r\nimport { loginAPI, signupAPI } from '../../lib/api/auth'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {userActions} from \"../../store/user\"\r\nimport useValidateMode from \"../../hooks/useValidateMode\"\r\nimport { commonActions } from '../../store/common'\r\nimport PasswordWarning from './PasswordWarning'\r\nimport { authActions } from '../../store/auth'\r\n\r\nconst Container = styled.form`\r\n  .modal-close-x-icon {\r\n    cursor: pointer;\r\n    display: block;\r\n    margin: 0 0 40px auto;    \r\n  }\r\n  .input-wrapper {\r\n    position: relative;\r\n    margin-bottom: 16px;\r\n  }\r\n  .sign-up-password-input-wrapper {\r\n    svg {\r\n      cursor:pointer;\r\n    }\r\n  }\r\n  .sign-up-birthdat-label {\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    margin-top: 16px;\r\n    margin-bottom: 8px;\r\n  }\r\n  .sign-up-modal-birthday-info {\r\n    margin-bottom: 16px;\r\n    color: ${palette.charcoal}\r\n  }\r\n  .sign-up-modal-birthday-selectors {\r\n    display: flex;\r\n    margin-bottom: 24px;\r\n    .sign-up-modal-birthday-month-selector {\r\n      margin-right: 16px;\r\n      flex-grow: 1;\r\n    }\r\n    .sign-up-modal-birthday-day-selector {\r\n      margin-right: 16px;\r\n      width: 25%;\r\n    }\r\n    .sign-up-modal-birthday-year-selector {\r\n      width: 33.3333%;\r\n    }\r\n  }\r\n  .sign-up-modal-submit-button-wrapper {\r\n    margin-bottom: 16px;\r\n    padding-bottom: 16px;\r\n    border-bottom: 1px solid ${palette.gray_eb}\r\n  }\r\n  .sign-up-modal-set-login {\r\n    color: ${palette.dark_cyan};\r\n    margin-left: 8px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst PASSWORD_MIN_LENNGTH = 8;\r\n\r\ninterface IProps {\r\n  closeModal: () => void;\r\n}\r\n\r\n// 선택할 수 없는 월 option\r\nconst disabledMonths = [\"월\"];\r\n\r\n// 선택할 수 없는 일 option\r\nconst disabledDays = [\"일\"];\r\n\r\n// 선택할 수 없는 년 option\r\nconst disabledYears = [\"년\"];\r\n\r\nconst SignUpModal: React.FC<IProps> = ({ closeModal }) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [hidePassword, setHidePassword] = useState(true);\r\n  const [passwordFocused, setPasswordFocused] = useState(false);\r\n\r\n  const [birthYear, setBirthYear] = useState<string | undefined>();\r\n  const [birthDay, setBirthDay] = useState<string | undefined>();\r\n  const [birthMonth, setBirthMonth] = useState<string | undefined>();\r\n\r\n  const { setValidateMode } = useValidateMode();\r\n  const dispatch = useDispatch();\r\n\r\n  // 로그인 모달로 변경하기\r\n  const changeToLoginModal = () => {\r\n    dispatch(authActions.setAuthMode(\"login\"));\r\n  }\r\n\r\n  // 이메일 주소 변경 시\r\n  const onChangeEmail = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  // 이름 변경 시\r\n  const onChangeLastname = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setLastname(event.target.value);\r\n  };\r\n\r\n  // 성 변경 시\r\n  const onChangeFirstname = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFirstname(event.target.value);\r\n  };\r\n\r\n  // 비밀번호 변경 시\r\n  const onChangePassword = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  // 비밀번호 숨김 토글하기\r\n  const toggleHidePassword = () => {\r\n    setHidePassword(!hidePassword);\r\n  }\r\n\r\n  // 비밀번호 인풋 포커스 되었을 때\r\n  const onFocusPassword = () => {\r\n    setPasswordFocused(true);\r\n  }\r\n\r\n  // password가 이름이나 이메일을 포함하는지\r\n  const isPasswordHasNameOrEmail = useMemo(\r\n    () => \r\n      !password || \r\n      !lastname ||\r\n      password.includes(lastname) ||\r\n      password.includes(email.split(\"@\")[0]),\r\n      [password, lastname, email]\r\n  );\r\n\r\n  // 비밀번호가 최소 자릿수 이상인지\r\n  const isPasswordOverMinLength = useMemo(\r\n    () => !!password && password.length >= PASSWORD_MIN_LENNGTH,\r\n    [password]\r\n  );\r\n\r\n  // 비밀번호가 숫자나 특수기호를 포함하는지\r\n  const isPasswordHasNumberOrSymbol = useMemo(\r\n    () => \r\n      !(\r\n        /[{}[\\]/?.,;:|)*~`!^\\-_+<>@#$%&\\\\=('\"]/g.test(password) ||\r\n        /[0-9]/g.test(password) \r\n      ),\r\n    [password]\r\n  );\r\n\r\n  // 생년월일 월 변경 시\r\n  const onChangeBirthMonth = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setBirthMonth(event.target.value);\r\n  };\r\n\r\n  // 생년월일 일 변경 시\r\n  const onChangeBirthDay = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setBirthDay(event.target.value);\r\n  };\r\n\r\n  // 생년월일 년 변경 시\r\n  const onChangeBirthYear = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n    setBirthYear(event.target.value);\r\n  };\r\n\r\n  // 회원가입 폼 입력 값 확인하기\r\n  const validateSignUpForm = () => {\r\n    // 인풋 값이 없다면\r\n    if (!email || !lastname || !firstname || !password) {\r\n      return false;\r\n    }\r\n    // 비밀번호가 올바르지 않다면\r\n    if (\r\n        isPasswordHasNameOrEmail ||\r\n        !isPasswordOverMinLength ||\r\n        isPasswordHasNumberOrSymbol\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    // 생년월일 셀렉터 값이 없다면\r\n    if (!birthDay || !birthMonth || !birthYear) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // 회원가입 폼 제출하기\r\n  const onSubmitSignUp = async (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setValidateMode(true);\r\n\r\n    // dispatch(commonActions.setValidateMode(true));\r\n\r\n    if (validateSignUpForm()) {\r\n      try {\r\n        const signUpBody = {\r\n          email,\r\n          lastname,\r\n          firstname,\r\n          password,\r\n          birthday: new Date (\r\n            `${birthYear}-${birthMonth!.replace(\"월\",\"\")}-${birthDay}`\r\n          ).toISOString(),\r\n        }\r\n        const { data } = await signupAPI(signUpBody);\r\n        dispatch(userActions.setLoggedUser(data));\r\n        closeModal();\r\n\r\n        console.log(data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }  \r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setValidateMode(false);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container onSubmit={onSubmitSignUp}>\r\n      <div className=\"input-wrapper\">\r\n        <Input \r\n          type=\"email\" \r\n          name=\"email\"\r\n          placeholder=\"이메일 주소\" \r\n          icon={<Mailcon />} \r\n          value={email}\r\n          useValidation\r\n          isValid={!!email}\r\n          onChange={onChangeEmail}\r\n          errorMessage=\"이메일이 필요합니다.\"\r\n        />\r\n      </div>\r\n      <div className=\"input-wrapper\">\r\n        <Input \r\n          name=\"lastname\"\r\n          placeholder=\"이름(예: 길동)\" \r\n          icon={<PersonIcon />} \r\n          value={lastname}\r\n          useValidation\r\n          isValid={!!lastname}\r\n          onChange={onChangeLastname}\r\n          errorMessage=\"이름을 입력하세요.\"\r\n        />\r\n      </div>\r\n      <div className=\"input-wrapper\">\r\n        <Input \r\n          name=\"firstname\"\r\n          placeholder=\"성(예: 홍)\" \r\n          icon={<PersonIcon />} \r\n          useValidation\r\n          value={firstname}\r\n          isValid={!!firstname}\r\n          onChange={onChangeFirstname}\r\n          errorMessage=\"성을 입력하세요.\"\r\n        />\r\n      </div>\r\n      <div className=\"input-wrapper sign-up-password-input-wrapper\">\r\n        <Input \r\n          placeholder=\"비밀번호 설정하기\"\r\n          type={hidePassword ? \"password\" : \"text\"}\r\n          icon={\r\n            hidePassword ? (\r\n              <CloseEyeIcon onClick={toggleHidePassword} />\r\n            ) : (\r\n              <OpenedEyeIcon onClick={toggleHidePassword}/>\r\n            )\r\n          }\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          useValidation\r\n          isValid={\r\n            !isPasswordHasNameOrEmail && \r\n            isPasswordOverMinLength &&\r\n            !isPasswordHasNumberOrSymbol\r\n          }\r\n          errorMessage=\"비밀번호를 입력하세요.\"\r\n          onFocus={onFocusPassword}\r\n        />\r\n      </div>\r\n      {passwordFocused && (\r\n        <>\r\n          <PasswordWarning \r\n            isValid={isPasswordHasNameOrEmail}\r\n            text=\"비밀번호에 본인 이름이나 이메일 주소를 포함할 수 없습니다.\"\r\n          />\r\n          <PasswordWarning \r\n            isValid={!isPasswordOverMinLength} \r\n            text=\"최소 8자\" \r\n          />\r\n          <PasswordWarning\r\n            isValid={isPasswordHasNumberOrSymbol}\r\n            text=\"숫자나 기호를 포함하세요.\"\r\n          />\r\n        </>\r\n      )}\r\n      <p className=\"sign-up-birthdat-label\">생일</p>\r\n      <p className=\"sign-up-modal-birthday-info\">\r\n        만 18세 이상의 성인만 회원으로 가입할 수 있습니다. \r\n        생일은 다른 에어비엔비 이용자에게 공개되지 않습니다.\r\n      </p>\r\n      <div className=\"sign-up-modal-birthday-selectors\">\r\n        <div className=\"sign-up-modal-birthday-month-selector\">\r\n          <Selector\r\n            options={monthsList}\r\n            disabledOptions={disabledMonths}\r\n            defaultValue=\"월\"\r\n            value={birthMonth}\r\n            onChange={onChangeBirthMonth}\r\n            isValid={!!birthMonth}\r\n          />\r\n        </div>\r\n        <div className=\"sign-up-modal-birthday-day-selector\">\r\n          <Selector\r\n            options={daysList}\r\n            disabledOptions={disabledDays}\r\n            defaultValue=\"일\"\r\n            onChange={onChangeBirthDay}\r\n            isValid={!!birthDay}\r\n          />\r\n        </div>\r\n        <div className=\"sign-up-modal-birthday-year-selector\">\r\n          <Selector\r\n            options={yearsList}\r\n            disabledOptions={disabledYears}\r\n            defaultValue=\"년\"\r\n            onChange={onChangeBirthYear}\r\n            isValid={!!birthYear}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"sign-up-modal-submit-button-wrapper\">\r\n        <Button type=\"submit\">가입하기</Button>\r\n      </div>\r\n      <p>\r\n        이미 에어비앤비 계정이 있나요?\r\n        <span\r\n          className=\"sign-up-modal-set-login\"\r\n          role=\"presentation\"\r\n          onClick={changeToLoginModal}\r\n        >\r\n          로그인\r\n        </span>\r\n      </p>\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default SignUpModal;"]},"metadata":{},"sourceType":"module"}