{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\SUNGHO\\\\DEV\\\\Next Class\\\\next-airbnb\\\\components\\\\auth\\\\SignUpModal.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport styled from \"styled-components\";\n\nvar CloseXIcon = function CloseXIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"m7.667 7.217 6.55-6.55.45.45-6.55 6.55 6.55 6.55-.45.45-6.55-6.55-6.55 6.55-.45-.45 6.55-6.55-6.55-6.55.45-.45 6.55 6.55z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\nCloseXIcon.defaultProps = {\n  width: \"15\",\n  height: \"15\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar MailIcon = function MailIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M.306 0v13.5H22V0H.306zm5.987 5.947L2.114 10.23V3.137l4.179 2.81zM2.55 1.5h17.206l-8.603 5.785L2.55 1.5zm5.147 5.391 3.456 2.324 3.462-2.328L19.688 12H2.713l4.984-5.109zm8.323-.948 4.172-2.806v7.011L16.02 5.943z\",\n      fill: \"#222\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\nMailIcon.defaultProps = {\n  width: \"22\",\n  height: \"14\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar PersonIcon = function PersonIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M8 1.333a3.337 3.337 0 0 1 3.333 3.334A3.338 3.338 0 0 1 8 8.001a3.338 3.338 0 0 1-3.333-3.334A3.337 3.337 0 0 1 8 1.333zM8 0a4.667 4.667 0 1 0 0 9.334A4.667 4.667 0 0 0 8 0zm4.246 8.902c-.331.332-.705.62-1.105.868 1.914 1.25 2.918 3.389 3.314 4.897H1.531C1.912 13.141 2.903 11 4.846 9.762a6.005 6.005 0 0 1-1.105-.875C.902 10.935 0 14.558 0 16h16c0-1.428-.96-5.038-3.754-7.098z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\nPersonIcon.defaultProps = {\n  width: \"16\",\n  height: \"16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar OpenedEyeIcon = function OpenedEyeIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M15.941 4.81c-.126-.183-3.154-4.477-7.94-4.477C3.892.333.232 4.603.078 4.785a.335.335 0 0 0 0 .43C.233 5.397 3.893 9.667 8 9.667c4.108 0 7.768-4.27 7.922-4.452a.333.333 0 0 0 .019-.404zM8.001 9C4.707 9 1.576 5.86.78 5c.794-.86 3.922-4 7.22-4 3.852 0 6.571 3.135 7.235 3.982C14.47 5.815 11.321 9 8 9z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M8 2.333A2.67 2.67 0 0 0 5.333 5 2.67 2.67 0 0 0 8 7.667 2.67 2.67 0 0 0 10.667 5 2.67 2.67 0 0 0 8 2.333zM8 7c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)]\n  }), void 0, true, void 0, this);\n};\n\nOpenedEyeIcon.defaultProps = {\n  width: \"16\",\n  height: \"10\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\n\nvar ClosedEyeIcon = function ClosedEyeIcon(props) {\n  return /*#__PURE__*/_jsxDEV(\"svg\", _objectSpread(_objectSpread({}, props), {}, {\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M15.84 4.311a.449.449 0 0 1-.636-.054l-1.181-1.404A8.062 8.062 0 0 1 12.05 4.17l.674 1.634a.45.45 0 0 1-.834.344l-.674-1.634a9.843 9.843 0 0 1-2.893.527v1.745a.45.45 0 0 1-.902 0V5.041a9.945 9.945 0 0 1-2.669-.454l-.644 1.56a.451.451 0 1 1-.834-.343l.634-1.536a8.081 8.081 0 0 1-2.04-1.286L.797 4.257a.45.45 0 1 1-.69-.58L1.22 2.352C.413 1.475.07.704.037.629A.45.45 0 1 1 .865.273c.03.07.382.845 1.223 1.683.012.008.024.015.035.024.03.025.054.054.076.084A7.241 7.241 0 0 0 4.63 3.587c.014.005.029.007.043.013l.016.009c.875.326 1.926.54 3.184.54 5.282 0 6.991-3.837 7.008-3.876a.45.45 0 1 1 .829.356c-.03.07-.34.762-1.053 1.578l1.237 1.469a.45.45 0 0 1-.055.635z\",\n      fill: \"#000\"\n    }, void 0, false, void 0, this)\n  }), void 0, false, void 0, this);\n};\n\nClosedEyeIcon.defaultProps = {\n  width: \"16\",\n  height: \"8\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nimport palette from \"../../styles/palette\";\nimport { monthsList, daysList, yearsList } from \"../../lib/staticData\";\nimport Selector from \"../common/Selector\";\nimport Input from \"../common/Input\";\nimport Button from \"../common/Button\";\nimport { signupAPI } from '../../lib/api/auth';\nimport { useDispatch } from \"react-redux\";\nimport { userActions } from \"../../store/user\";\nimport useValidateMode from \"../../hooks/useValidateMode\";\nimport PasswordWarning from \"./PasswordWarning\";\nimport { authActions } from \"../../store/auth\";\nconst Container = styled.form.withConfig({\n  displayName: \"SignUpModal__Container\",\n  componentId: \"sc-102epsj-0\"\n})([\"width:568px;height:614px;padding:32px;background-color:white;z-index:11;.modal-close-x-icon{cursor:pointer;display:block;margin:0 0 40px auto;}.input-wrapper{position:relative;margin-bottom:16px;input{position:relative;width:100%;height:46px;padding:0 44px 0 11px;border:1px solid \", \";border-radius:4px;font-size:16px;outline:none;::placeholder{color:\", \";}}svg{position:absolute;right:11px;top:16px;}}.sign-up-password-input-wrapper{svg{cursor:pointer;}}.sign-up-birthdat-label{font-size:16px;font-weight:600;margin-top:16px;margin-bottom:8px;}.sign-up-modal-birthday-info{margin-bottom:16px;color:\", \"}.sign-up-modal-birthday-selectors{display:flex;margin-bottom:24px;.sign-up-modal-birthday-month-selector{margin-right:16px;flex-grow:1;}.sign-up-modal-birthday-day-selector{margin-right:16px;width:25%;}.sign-up-modal-birthday-year-selector{width:33.3333%;}}.sign-up-modal-submit-button-wrapper{margin-button:16px;padding-button:16px;border-button:1px solid \", \"}.sign-up-modal-set-login{color:\", \";margin-left:8px;cursor:pointer;}\"], palette.gray_eb, palette.gray_76, palette.charcoal, palette.gray_eb, palette.dark_cyan);\nconst PASSWORD_MIN_LENNGTH = 8;\n// 선택할 수 없는 월 option\nconst disabledMonths = [\"월\"]; // 선택할 수 없는 일 option\n\nconst disabledDays = [\"일\"]; // 선택할 수 없는 년 option\n\nconst disabledYears = [\"년\"];\n\nconst SignUpModal = ({\n  closeModal\n}) => {\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: lastname,\n    1: setLastname\n  } = useState(\"\");\n  const {\n    0: firstname,\n    1: setFirstname\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: hidePassword,\n    1: setHidePassword\n  } = useState(true);\n  const {\n    0: passwordFocused,\n    1: setPasswordFocused\n  } = useState(false);\n  const {\n    0: birthYear,\n    1: setBirthYear\n  } = useState();\n  const {\n    0: birthDay,\n    1: setBirthDay\n  } = useState();\n  const {\n    0: birthMonth,\n    1: setBirthMonth\n  } = useState();\n  const {\n    setValidateMode\n  } = useValidateMode();\n  const dispatch = useDispatch(); // * 로그인 모달로 변경하기\n\n  const changeToLoginModal = () => {\n    dispatch(authActions.setAuthMode(\"login\"));\n  }; // * 이메일 주소 변경시\n\n\n  const onChangeEmail = event => {\n    setEmail(event.target.value);\n  }; // * 이름 변경시\n\n\n  const onChangeLastname = event => {\n    setLastname(event.target.value);\n  }; // * 성 변경 시\n\n\n  const onChangeFirstname = event => {\n    setFirstname(event.target.value);\n  }; // * 비밀번호 변경 시\n\n\n  const onChangePassword = event => {\n    setPassword(event.target.value);\n  }; // * 비밀번호 숨김 토글하기\n\n\n  const toggleHidePassword = () => {\n    setHidePassword(!hidePassword);\n  }; // * 생년월일 년 변경시\n\n\n  const onChangeBirthYear = event => {\n    setBirthYear(event.target.value);\n  }; // * 생년월일 월 변경시\n\n\n  const onChangeBirthMonth = event => {\n    setBirthMonth(event.target.value);\n  }; // * 생년월일 일 변경시\n\n\n  const onChangeBirthDay = event => {\n    setBirthDay(event.target.value);\n  }; // * 비밀번호 인풋 포커스 되었을때\n\n\n  const onFocusPassword = () => {\n    setPasswordFocused(true);\n  }; // password가 이름이나 이메일을 포함하는지\n\n\n  const isPasswordHasNameOrEmail = useMemo(() => !password || !lastname || password.includes(lastname) || password.includes(email.split(\"@\")[0]), [password, lastname, email]); // 비밀번호가 최소 자릿수 이상인지\n\n  const isPasswordOverMinLength = useMemo(() => !!password && password.length >= PASSWORD_MIN_LENNGTH, [password]); // 비밀번호가 숫자나 특수기호를 포함하는지\n\n  const isPasswordHasNumberOrSymbol = useMemo(() => !(/[{}[\\]/?.,;:|)*~`!^\\-_+<>@#$%&\\\\=('\"]/g.test(password) || /[0-9]/g.test(password)), [password]); // * 회원가입 폼 입력 값 확인하기\n\n  const validateSignUpForm = () => {\n    // * 인풋값이 없다면\n    if (!email || !lastname || !firstname || !password) {\n      return false;\n    } // * 비밀번호가 올바르지 않다면\n\n\n    if (isPasswordHasNameOrEmail || !isPasswordOverMinLength || isPasswordHasNumberOrSymbol) {\n      return false;\n    } // * 생년월일 셀렉터 값이 없다면\n\n\n    if (!birthDay || !birthMonth || !birthYear) {\n      return false;\n    }\n\n    return true;\n  }; // * 회원가입 폼 제출하기\n\n\n  const onSubmitSignUp = async event => {\n    event.preventDefault();\n    setValidateMode(true);\n    console.log(validateSignUpForm()); //dispatch(commonActions.setValidateMode(true));\n    //if(!email || !lastname || !!firstname || !password){\n    //    return undefined;\n    //}\n\n    if (validateSignUpForm()) {\n      try {\n        const signUpBody = {\n          email,\n          lastname,\n          firstname,\n          password,\n          birthday: new Date(`${birthYear}-${birthMonth.replace(\"월\", \"\")}-${birthDay}`).toISOString()\n        };\n        const {\n          data\n        } = await signupAPI(signUpBody);\n        dispatch(userActions.setLoggedUser(data));\n        console.log(data);\n        closeModal();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      setValidateMode(false);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    onSubmit: onSubmitSignUp,\n    children: [/*#__PURE__*/_jsxDEV(CloseXIcon, {\n      className: \"modal-close-x-icon\",\n      onClick: closeModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\",\n        type: \"email\",\n        icon: /*#__PURE__*/_jsxDEV(MailIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 27\n        }, this),\n        name: \"email\",\n        value: email,\n        isValid: !!email,\n        onChange: onChangeEmail,\n        errorMessage: \"\\uC774\\uBA54\\uC77C\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\uC774\\uB984 add..\",\n        icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 27\n        }, this),\n        name: \"lastname\",\n        value: lastname,\n        useValidation: true,\n        isValid: !!lastname,\n        onChange: onChangeLastname,\n        errorMessage: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        name: \"firstname\",\n        placeholder: \"\\uC131(\\uC608: \\uD64D)\",\n        icon: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 27\n        }, this),\n        useValidation: true,\n        value: firstname,\n        isValid: !!firstname,\n        onChange: onChangeFirstname,\n        errorMessage: \"\\uC131\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-wrapper sign-up-password-input-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uC124\\uC815\\uD558\\uAE30\",\n        type: hidePassword ? \"password\" : \"text\",\n        icon: hidePassword ? /*#__PURE__*/_jsxDEV(ClosedEyeIcon, {\n          onClick: toggleHidePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(OpenedEyeIcon, {\n          onClick: toggleHidePassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 29\n        }, this),\n        value: password,\n        onChange: onChangePassword,\n        useValidation: true,\n        isValid: !isPasswordHasNameOrEmail && isPasswordOverMinLength && !isPasswordHasNameOrEmail,\n        errorMessage: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        onFocus: onFocusPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }, this), passwordFocused && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PasswordWarning, {\n        isValid: isPasswordHasNameOrEmail,\n        text: \"\\uBE44\\uBC00\\uBC88\\uD638\\uC5D0 \\uBCF8\\uC778 \\uC774\\uB984\\uC774\\uB098 \\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\\uB97C \\uD3EC\\uD568\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(PasswordWarning, {\n        isValid: !isPasswordOverMinLength,\n        text: \"\\uCD5C\\uC18C 8\\uC790\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(PasswordWarning, {\n        isValid: isPasswordHasNumberOrSymbol,\n        text: \"\\uC22B\\uC790\\uB098 \\uAE30\\uD638\\uB97C \\uD3EC\\uD568\\uD558\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sign-up-modal-birthday-label\",\n      children: \"\\uC0DD\\uC77C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sign-up-modal-birthday-info\",\n      children: \"\\uB9CC 18\\uC138 \\uC774\\uC0C1\\uC758 \\uC131\\uC778\\uB9CC \\uD68C\\uC6D0\\uC73C\\uB85C \\uAC00\\uC785 \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC0DD\\uC77C\\uC740 \\uB2E4\\uB978 \\uC5D0\\uC5B4\\uBE44\\uC564\\uBE44 \\uC774\\uC6A9\\uC790\\uC5D0\\uAC8C \\uACF5\\uAC1C\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-modal-birthday-selectors\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-modal-birthday-month-selector\",\n        children: /*#__PURE__*/_jsxDEV(Selector, {\n          options: monthsList,\n          disabledOptions: [\"월\"],\n          defaultValue: \"\\uC6D4\",\n          value: birthMonth,\n          onChange: onChangeBirthMonth,\n          isValid: !!birthMonth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-modal-birthday-day-selector\",\n        children: /*#__PURE__*/_jsxDEV(Selector, {\n          options: daysList,\n          disabledOptions: [\"일\"],\n          defaultValue: \"\\uC77C\",\n          onChange: onChangeBirthDay,\n          isValid: !!birthDay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-up-modal-birthday-year-selector\",\n        children: /*#__PURE__*/_jsxDEV(Selector, {\n          options: yearsList,\n          disabledOptions: [\"년\"],\n          defaultValue: \"\\uB144\",\n          onChange: onChangeBirthYear,\n          isValid: !!birthYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sign-up-modal-submit-button-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"\\uAC00\\uC785\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uC774\\uBBF8 \\uC5D0\\uC5B4\\uBE44\\uC564\\uBE44 \\uACC4\\uC815\\uC774 \\uC788\\uB098\\uC694?\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sign-up-modal-set-login\",\n        role: \"presentation\",\n        onClick: changeToLoginModal,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 9\n  }, this);\n};\n\nexport default SignUpModal;","map":{"version":3,"sources":["D:/SUNGHO/DEV/Next Class/next-airbnb/components/auth/SignUpModal.tsx"],"names":["React","useState","useMemo","useEffect","styled","CloseXIcon","MailIcon","PersonIcon","OpenedEyeIcon","ClosedEyeIcon","palette","monthsList","daysList","yearsList","Selector","Input","Button","signupAPI","useDispatch","userActions","useValidateMode","PasswordWarning","authActions","Container","form","gray_eb","gray_76","charcoal","dark_cyan","PASSWORD_MIN_LENNGTH","disabledMonths","disabledDays","disabledYears","SignUpModal","closeModal","email","setEmail","lastname","setLastname","firstname","setFirstname","password","setPassword","hidePassword","setHidePassword","passwordFocused","setPasswordFocused","birthYear","setBirthYear","birthDay","setBirthDay","birthMonth","setBirthMonth","setValidateMode","dispatch","changeToLoginModal","setAuthMode","onChangeEmail","event","target","value","onChangeLastname","onChangeFirstname","onChangePassword","toggleHidePassword","onChangeBirthYear","onChangeBirthMonth","onChangeBirthDay","onFocusPassword","isPasswordHasNameOrEmail","includes","split","isPasswordOverMinLength","length","isPasswordHasNumberOrSymbol","test","validateSignUpForm","onSubmitSignUp","preventDefault","console","log","signUpBody","birthday","Date","replace","toISOString","data","setLoggedUser","error"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport CloseXIcon from \"../../public/static/svg/modal/modal_close_x_icon.svg\";\r\nimport MailIcon from \"../../public/static/svg/input/mail.svg\";\r\nimport PersonIcon from \"../../public/static/svg/input/person.svg\";\r\nimport OpenedEyeIcon from \"../../public/static/svg/input/opened-eye.svg\";\r\nimport ClosedEyeIcon from \"../../public/static/svg/input/closed_eye.svg\";\r\nimport palette from \"../../styles/palette\";\r\n\r\nimport { monthsList, daysList, yearsList } from \"../../lib/staticData\";\r\nimport Selector from \"../common/Selector\";\r\nimport Input from \"../common/Input\";\r\nimport Button from \"../common/Button\";\r\nimport { signupAPI } from '../../lib/api/auth'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {userActions} from \"../../store/user\"\r\nimport useValidateMode from \"../../hooks/useValidateMode\";\r\nimport { commonActions } from '../../store/common'\r\nimport PasswordWarning from \"./PasswordWarning\";\r\nimport { authActions } from \"../../store/auth\";\r\n\r\nconst Container = styled.form`\r\n    width: 568px;\r\n    height: 614px;\r\n    padding:32px;\r\n    background-color: white;\r\n    z-index: 11;\r\n\r\n    .modal-close-x-icon {\r\n        cursor:pointer;\r\n        display:block;\r\n        margin:0 0 40px auto;\r\n    }\r\n    .input-wrapper {\r\n        position: relative;\r\n        margin-bottom: 16px;\r\n        input {\r\n            position: relative;\r\n            width: 100%;\r\n            height: 46px;\r\n            padding: 0 44px 0 11px;\r\n            border: 1px solid ${palette.gray_eb};\r\n            border-radius: 4px;\r\n            font-size: 16px;\r\n            outline: none;\r\n            ::placeholder {\r\n                color: ${palette.gray_76};\r\n            }\r\n        }\r\n        svg {\r\n            position: absolute;\r\n            right: 11px;\r\n            top: 16px;\r\n        }\r\n    }\r\n    .sign-up-password-input-wrapper {\r\n        svg {\r\n            cursor:pointer;\r\n        }\r\n    }\r\n    .sign-up-birthdat-label {\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        margin-top: 16px;\r\n        margin-bottom: 8px;\r\n    }\r\n    .sign-up-modal-birthday-info {\r\n        margin-bottom: 16px;\r\n        color: ${palette.charcoal}\r\n    }\r\n    .sign-up-modal-birthday-selectors {\r\n        display: flex;\r\n        margin-bottom: 24px;\r\n        .sign-up-modal-birthday-month-selector {\r\n            margin-right: 16px;\r\n            flex-grow: 1;\r\n        }\r\n        .sign-up-modal-birthday-day-selector {\r\n            margin-right: 16px;\r\n            width: 25%;\r\n        }\r\n        .sign-up-modal-birthday-year-selector {\r\n            width: 33.3333%;\r\n        }\r\n    }\r\n    .sign-up-modal-submit-button-wrapper{\r\n        margin-button:16px;\r\n        padding-button: 16px;\r\n        border-button: 1px solid ${palette.gray_eb}\r\n    }\r\n    .sign-up-modal-set-login{\r\n        color: ${palette.dark_cyan};\r\n        margin-left: 8px;\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nconst PASSWORD_MIN_LENNGTH = 8;\r\n\r\ninterface IProps {\r\n    closeModal: () => void;\r\n}\r\n\r\n// 선택할 수 없는 월 option\r\nconst disabledMonths = [\"월\"];\r\n\r\n// 선택할 수 없는 일 option\r\nconst disabledDays = [\"일\"];\r\n\r\n// 선택할 수 없는 년 option\r\nconst disabledYears = [\"년\"];\r\n\r\nconst SignUpModal: React.FC<IProps> = ({closeModal}) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [lastname, setLastname] = useState(\"\");\r\n    const [firstname, setFirstname] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [hidePassword, setHidePassword] = useState(true);\r\n    const [passwordFocused, setPasswordFocused] = useState(false);\r\n    \r\n    const [birthYear, setBirthYear] = useState<string | undefined>();\r\n    const [birthDay, setBirthDay] = useState<string | undefined>();\r\n    const [birthMonth, setBirthMonth] = useState<string | undefined>();\r\n\r\n    const {setValidateMode} = useValidateMode();\r\n    const dispatch = useDispatch();\r\n\r\n    // * 로그인 모달로 변경하기\r\n    const changeToLoginModal=()=>{\r\n        dispatch(authActions.setAuthMode(\"login\"));\r\n    };\r\n\r\n    // * 이메일 주소 변경시\r\n    const onChangeEmail = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(event.target.value);\r\n    };\r\n\r\n    // * 이름 변경시\r\n    const onChangeLastname = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setLastname(event.target.value);\r\n    };\r\n    \r\n    // * 성 변경 시\r\n    const onChangeFirstname = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFirstname(event.target.value);\r\n    };\r\n    \r\n    // * 비밀번호 변경 시\r\n    const onChangePassword = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setPassword(event.target.value);\r\n    };\r\n\r\n    // * 비밀번호 숨김 토글하기\r\n    const toggleHidePassword = () => {\r\n        setHidePassword(!hidePassword);\r\n    };\r\n    \r\n    // * 생년월일 년 변경시\r\n    const onChangeBirthYear = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setBirthYear(event.target.value);\r\n    };\r\n\r\n    // * 생년월일 월 변경시\r\n    const onChangeBirthMonth = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setBirthMonth(event.target.value);\r\n    };\r\n\r\n    // * 생년월일 일 변경시\r\n    const onChangeBirthDay = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setBirthDay(event.target.value);\r\n    };\r\n\r\n    // * 비밀번호 인풋 포커스 되었을때\r\n    const onFocusPassword = () =>{\r\n        setPasswordFocused(true);\r\n    };\r\n\r\n    // password가 이름이나 이메일을 포함하는지\r\n    const isPasswordHasNameOrEmail = useMemo(\r\n        () => \r\n            !password || \r\n            !lastname ||\r\n            password.includes(lastname) ||\r\n            password.includes(email.split(\"@\")[0]),\r\n            [password, lastname, email]\r\n    );\r\n\r\n    // 비밀번호가 최소 자릿수 이상인지\r\n    const isPasswordOverMinLength = useMemo(\r\n        () => !!password && password.length >= PASSWORD_MIN_LENNGTH,\r\n        [password]\r\n    );\r\n\r\n    // 비밀번호가 숫자나 특수기호를 포함하는지\r\n    const isPasswordHasNumberOrSymbol = useMemo(\r\n        () => \r\n            !(\r\n                /[{}[\\]/?.,;:|)*~`!^\\-_+<>@#$%&\\\\=('\"]/g.test(password) ||\r\n                /[0-9]/g.test(password) \r\n            ),\r\n        [password]\r\n    );\r\n\r\n    // * 회원가입 폼 입력 값 확인하기\r\n    const validateSignUpForm = ()=>{\r\n        // * 인풋값이 없다면\r\n        if(!email || !lastname || !firstname || !password){\r\n            return false;\r\n        }\r\n        // * 비밀번호가 올바르지 않다면\r\n        if(\r\n            isPasswordHasNameOrEmail ||\r\n            !isPasswordOverMinLength ||\r\n            isPasswordHasNumberOrSymbol\r\n        ){\r\n            return false;\r\n        }\r\n        // * 생년월일 셀렉터 값이 없다면\r\n        if(!birthDay || !birthMonth || !birthYear){\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n    \r\n    // * 회원가입 폼 제출하기\r\n    const onSubmitSignUp = async (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n\r\n        setValidateMode(true);\r\n        console.log(validateSignUpForm());\r\n        \r\n        //dispatch(commonActions.setValidateMode(true));\r\n\r\n        //if(!email || !lastname || !!firstname || !password){\r\n        //    return undefined;\r\n        //}\r\n\r\n        if (validateSignUpForm()) {\r\n            try {\r\n                const signUpBody = {\r\n                    email,\r\n                    lastname,\r\n                    firstname,\r\n                    password,\r\n                    birthday: new Date (\r\n                        `${birthYear}-${birthMonth!.replace(\"월\",\"\")}-${birthDay}`\r\n                    ).toISOString(),\r\n                }\r\n                const { data } = await signupAPI(signUpBody);\r\n      \r\n                dispatch(userActions.setLoggedUser(data));\r\n      \r\n                console.log(data);\r\n              \r\n                closeModal();\r\n            } catch (error) {\r\n              console.log(error);\r\n            }  \r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setValidateMode(false);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <Container onSubmit={onSubmitSignUp}>\r\n            <CloseXIcon className=\"modal-close-x-icon\" onClick={closeModal} />\r\n            <div className=\"input-wrapper\">\r\n                <Input \r\n                    placeholder=\"이메일 주소\" \r\n                    type=\"email\" \r\n                    icon={<MailIcon />} \r\n                    name=\"email\" \r\n                    value={email}\r\n                    isValid={!!email}\r\n                    onChange={onChangeEmail}\r\n                    errorMessage=\"이메일이 필요합니다.\"\r\n                />\r\n            </div>\r\n            <div className=\"input-wrapper\">\r\n                <Input \r\n                    placeholder=\"이름 add..\" \r\n                    icon={<PersonIcon />} \r\n                    name=\"lastname\" \r\n                    value={lastname} \r\n                    useValidation\r\n                    isValid={!!lastname}\r\n                    onChange={onChangeLastname}\r\n                    errorMessage=\"이름을 입력하세요.\"\r\n                />\r\n            </div>\r\n            <div className=\"input-wrapper\">\r\n                <Input \r\n                    name=\"firstname\"\r\n                    placeholder=\"성(예: 홍)\" \r\n                    icon={<PersonIcon />} \r\n                    useValidation\r\n                    value={firstname}\r\n                    isValid={!!firstname}\r\n                    onChange={onChangeFirstname}\r\n                    errorMessage=\"성을 입력하세요.\"\r\n                />\r\n            </div>\r\n            <div className=\"input-wrapper sign-up-password-input-wrapper\">\r\n                <Input \r\n                    placeholder=\"비밀번호 설정하기\" \r\n                    type={hidePassword ? \"password\" : \"text\"} \r\n                    icon={\r\n                        hidePassword ? (\r\n                            <ClosedEyeIcon onClick={toggleHidePassword} />\r\n                        ):(\r\n                            <OpenedEyeIcon onClick={toggleHidePassword} />\r\n                        )\r\n                    } \r\n                    value={password}\r\n                    onChange={onChangePassword}\r\n                    useValidation\r\n                    isValid={\r\n                        !isPasswordHasNameOrEmail &&\r\n                        isPasswordOverMinLength &&\r\n                        !isPasswordHasNameOrEmail\r\n                    }\r\n                    errorMessage=\"비밀번호를 입력하세요.\"\r\n                    onFocus={onFocusPassword}\r\n                />\r\n            </div>\r\n            {passwordFocused && (\r\n                <>\r\n                    <PasswordWarning \r\n                        isValid={isPasswordHasNameOrEmail}\r\n                        text=\"비밀번호에 본인 이름이나 이메일 주소를 포함할 수 없습니다.\"\r\n                    />\r\n                    <PasswordWarning \r\n                        isValid={!isPasswordOverMinLength} \r\n                        text=\"최소 8자\" \r\n                    />\r\n                    <PasswordWarning\r\n                        isValid={isPasswordHasNumberOrSymbol}\r\n                        text=\"숫자나 기호를 포함하세요.\"\r\n                    />\r\n                </>\r\n            )}\r\n            <p className=\"sign-up-modal-birthday-label\">생일</p>\r\n            <p className=\"sign-up-modal-birthday-info\">\r\n                만 18세 이상의 성인만 회원으로 가입 할 수 있습니다.\r\n                생일은 다른 에어비앤비 이용자에게 공개되지 않습니다.\r\n            </p>\r\n\r\n            <div className=\"sign-up-modal-birthday-selectors\">\r\n                <div className=\"sign-up-modal-birthday-month-selector\">\r\n                    <Selector\r\n                        options={monthsList}\r\n                        disabledOptions={[\"월\"]}\r\n                        defaultValue=\"월\"\r\n                        value={birthMonth}\r\n                        onChange={onChangeBirthMonth}\r\n                        isValid={!!birthMonth}\r\n                    />\r\n                </div>\r\n                <div className=\"sign-up-modal-birthday-day-selector\">\r\n                    <Selector\r\n                        options={daysList}\r\n                        disabledOptions={[\"일\"]}\r\n                        defaultValue=\"일\"\r\n                        onChange={onChangeBirthDay}\r\n                        isValid={!!birthDay}\r\n                    />\r\n                </div>\r\n                <div className=\"sign-up-modal-birthday-year-selector\">\r\n                    <Selector\r\n                        options={yearsList}\r\n                        disabledOptions={[\"년\"]}\r\n                        defaultValue=\"년\"\r\n                        onChange={onChangeBirthYear}\r\n                        isValid={!!birthYear}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"sign-up-modal-submit-button-wrapper\">\r\n                <Button type=\"submit\">가입하기</Button>\r\n            </div>\r\n            <p>\r\n                이미 에어비앤비 계정이 있나요?\r\n                <span\r\n                    className=\"sign-up-modal-set-login\"\r\n                    role=\"presentation\"\r\n                    onClick={changeToLoginModal}\r\n                >\r\n                로그인\r\n                </span>\r\n            </p>\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default SignUpModal;\r\n\r\n"]},"metadata":{},"sourceType":"module"}