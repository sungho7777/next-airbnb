{"ast":null,"code":"import formidable from \"formidable\";\nexport const config = {\n  api: {\n    bodyParser: false\n  }\n};\nexport default (async (req, res) => {\n  if (req.method === \"POST\") {\n    try {\n      const form = new formidable.IncomingForm();\n      form.parse(req, async (err, fields, files) => {\n        console.log(files);\n      });\n    } catch (e) {\n      console.log(e);\n      res.end();\n    }\n  }\n\n  res.statusCode = 405;\n  return res.end();\n});","map":{"version":3,"sources":["D:/SUNGHO/DEV/Next Class/next-airbnb/pages/api/files/upload.ts"],"names":["formidable","config","api","bodyParser","req","res","method","form","IncomingForm","parse","err","fields","files","console","log","e","end","statusCode"],"mappings":"AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,OAAO,MAAMC,MAAM,GAAC;AAChBC,EAAAA,GAAG,EAAC;AACAC,IAAAA,UAAU,EAAC;AADX;AADY,CAAb;AAMP,gBAAe,OAAMC,GAAN,EAA0BC,GAA1B,KAAgD;AAC3D,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACvB,QAAI;AACA,YAAMC,IAAI,GAAG,IAAIP,UAAU,CAACQ,YAAf,EAAb;AACAD,MAAAA,IAAI,CAACE,KAAL,CAAWL,GAAX,EAAgB,OAAOM,GAAP,EAAYC,MAAZ,EAAoBC,KAApB,KAA4B;AACxCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAFD;AAGH,KALD,CAKE,OAAOG,CAAP,EAAU;AACRF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACAV,MAAAA,GAAG,CAACW,GAAJ;AACH;AACJ;;AACDX,EAAAA,GAAG,CAACY,UAAJ,GAAe,GAAf;AAEA,SAAOZ,GAAG,CAACW,GAAJ,EAAP;AACH,CAfD","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\r\nimport formidable from \"formidable\";\r\n\r\nexport const config={\r\n    api:{\r\n        bodyParser:false,\r\n    },\r\n};\r\n\r\nexport default async(req:NextApiRequest, res:NextApiResponse)=>{\r\n    if (req.method === \"POST\") {\r\n        try {\r\n            const form = new formidable.IncomingForm();\r\n            form.parse(req, async (err, fields, files)=>{\r\n                console.log(files);\r\n            });\r\n        } catch (e) {\r\n            console.log(e);\r\n            res.end();\r\n        }\r\n    }\r\n    res.statusCode=405;\r\n\r\n    return res.end();\r\n};"]},"metadata":{},"sourceType":"module"}